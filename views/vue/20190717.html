<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vue大文件分片上传 | xuks</title>
    <meta name="description" content="better late than never">
    <link rel="icon" href="/favicon.ico">
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.aa8eed3e.css" as="style"><link rel="preload" href="/assets/js/app.25bd69c4.js" as="script"><link rel="preload" href="/assets/js/4.6e0585f6.js" as="script"><link rel="preload" href="/assets/js/1.de0b2451.js" as="script"><link rel="preload" href="/assets/js/8.501095af.js" as="script"><link rel="prefetch" href="/assets/js/10.d79d4537.js"><link rel="prefetch" href="/assets/js/11.ce91667a.js"><link rel="prefetch" href="/assets/js/12.92dce66d.js"><link rel="prefetch" href="/assets/js/13.fc50a8ba.js"><link rel="prefetch" href="/assets/js/14.68e950fd.js"><link rel="prefetch" href="/assets/js/15.d1196c16.js"><link rel="prefetch" href="/assets/js/16.acb599d0.js"><link rel="prefetch" href="/assets/js/17.378ae7bb.js"><link rel="prefetch" href="/assets/js/18.d3bd3afa.js"><link rel="prefetch" href="/assets/js/19.dbc911d5.js"><link rel="prefetch" href="/assets/js/20.822e2610.js"><link rel="prefetch" href="/assets/js/21.cefc375b.js"><link rel="prefetch" href="/assets/js/5.c5d97cf4.js"><link rel="prefetch" href="/assets/js/6.539055ff.js"><link rel="prefetch" href="/assets/js/7.2f9bbe21.js"><link rel="prefetch" href="/assets/js/9.09d29e4c.js"><link rel="prefetch" href="/assets/js/vendors~flowchart.d17d02f4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.aa8eed3e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="theme-container"><div><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/head.png" alt="xuks" class="logo"> <span class="site-name">xuks</span></a> <div class="links"><div class="color-picker"><a href="#" class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="theme-options"><!----> <div class="dark-theme-options toggle-option"><label for="dark-theme-toggle">Enable Dark Theme?</label> <input id="dark-theme-toggle" type="checkbox" checked="checked"></div></div></div></div> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/category/html.html" class="nav-link"><i class="iconfont undefined"></i>
  html
</a></li><li class="dropdown-item"><!----> <a href="/category/css.html" class="nav-link"><i class="iconfont undefined"></i>
  css
</a></li><li class="dropdown-item"><!----> <a href="/category/js.html" class="nav-link"><i class="iconfont undefined"></i>
  js
</a></li><li class="dropdown-item"><!----> <a href="/category/webpack.html" class="nav-link"><i class="iconfont undefined"></i>
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/category/Other.html" class="nav-link"><i class="iconfont undefined"></i>
  Other
</a></li><li class="dropdown-item"><!----> <a href="/category/vue.html" class="nav-link"><i class="iconfont undefined"></i>
  vue
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/timeLine/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://juejin.im/user/2189882894324135" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-juejin"></i>
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/xukaishan" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.jianshu.com/u/a6ccd6700041" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-jianshu"></i>
  简书
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/qq_43594899" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-csdn"></i>
  CSDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://home.cnblogs.com/u/1522663/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-bokeyuan"></i>
  博客园
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      Category
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/category/html.html" class="nav-link"><i class="iconfont undefined"></i>
  html
</a></li><li class="dropdown-item"><!----> <a href="/category/css.html" class="nav-link"><i class="iconfont undefined"></i>
  css
</a></li><li class="dropdown-item"><!----> <a href="/category/js.html" class="nav-link"><i class="iconfont undefined"></i>
  js
</a></li><li class="dropdown-item"><!----> <a href="/category/webpack.html" class="nav-link"><i class="iconfont undefined"></i>
  webpack
</a></li><li class="dropdown-item"><!----> <a href="/category/Other.html" class="nav-link"><i class="iconfont undefined"></i>
  Other
</a></li><li class="dropdown-item"><!----> <a href="/category/vue.html" class="nav-link"><i class="iconfont undefined"></i>
  vue
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  Tag
</a></div><div class="nav-item"><a href="/timeLine/" class="nav-link"><i class="iconfont reco-date"></i>
  TimeLine
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      Contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://juejin.im/user/2189882894324135" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-juejin"></i>
  掘金
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/xukaishan" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.jianshu.com/u/a6ccd6700041" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-jianshu"></i>
  简书
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/qq_43594899" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-csdn"></i>
  CSDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://home.cnblogs.com/u/1522663/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-bokeyuan"></i>
  博客园
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>vue大文件分片上传</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/views/vue/20190717.html#文件上传介绍" class="sidebar-link">文件上传介绍</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/vue/20190717.html#相关api及配置介绍" class="sidebar-link">相关API及配置介绍</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/views/vue/20190717.html#相关概念" class="sidebar-link">相关概念</a></li><li class="sidebar-sub-header"><a href="/views/vue/20190717.html#相关方法" class="sidebar-link">相关方法</a></li></ul></li><li><a href="/views/vue/20190717.html#组件封装" class="sidebar-link">组件封装</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/views/vue/20190717.html#插槽的使用、修改默认样式" class="sidebar-link">插槽的使用、修改默认样式</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <div><main class="page reco-hide"> <div class="page-title"><h1>vue大文件分片上传</h1> <hr> <div data-v-0b496ca7><i class="iconfont reco-account" data-v-0b496ca7><span data-v-0b496ca7>xuks</span></i> <i class="iconfont reco-date" data-v-0b496ca7><span data-v-0b496ca7>2019-7-14</span></i> <!----> <i class="iconfont reco-tag tags" data-v-0b496ca7><span class="tag-item" data-v-0b496ca7>
      vue-simple-uploader
    </span><span class="tag-item" data-v-0b496ca7>
      文件分片上传
    </span></i></div></div> <div class="content__default"><div class="tip custom-block"><p>vue大文件分片上传vue-simple-uploader使用</p> <p>自定义组件的封装，默认样式修改</p> <p>vue 插槽的使用</p></div> <h2 id="文件上传介绍"><a href="#文件上传介绍" aria-hidden="true" class="header-anchor">#</a> 文件上传介绍</h2> <p>关于小文件上传类似图片之类的，我们可以直接用很多ui框架封装的上传组件，或者自己写一个input 上传，利用FormData 对象提交文件数据，
但是对于比较大的文件，比如我的这个项目就要求在客户端上传2G左右的文件（难受，http那种），就需要将文件分片上传（file.slice()），否则中间http长时间连接可能会断掉。<br></p> <p>我这里使用的是vue-simple-uploader，一个基于simple-uploader封装的上传插件，因此你需要先了解simple-uploader及vue-simple-uploader相关API<br>
地址：<br> <a href="https://github.com/simple-uploader/Uploader/blob/develop/README_zh-CN.md#" target="_blank" rel="noopener noreferrer">simple-uploader:<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><br> <a href="https://github.com/simple-uploader/vue-uploader" target="_blank" rel="noopener noreferrer">vue-simple-uploader<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><br></p> <p>默认样式：<br> <img src="data:image/png;base64,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" alt="img"><br></p> <p>自定义样式：</p> <p><img src="data:image/png;base64,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" alt="img"></p> <h2 id="相关api及配置介绍"><a href="#相关api及配置介绍" aria-hidden="true" class="header-anchor">#</a> 相关API及配置介绍</h2> <p>在使用之前需要了解：
我们需要修改默认样式(我这里结合element-ui)，请先下载vue-uploader源码，查看源码方便我们使用插槽替换默认样式及使用它的相关方法</p> <h3 id="相关概念"><a href="#相关概念" aria-hidden="true" class="header-anchor">#</a> 相关概念</h3> <p>chunkNumber: 当前块的次序，第一个块是 1，注意不是从 0 开始的。<br>
totalChunks: 文件被分成块的总数。<br>
chunkSize: 分块大小，根据 totalSize 和这个值你就可以计算出总共的块数。注意最后一块的大小可能会比这个要大。<br>
currentChunkSize: 当前块的大小，实际大小。<br>
totalSize: 文件总大小。<br>
identifier: 这个就是每个文件的唯一标示。<br>
filename: 文件名</p> <h3 id="相关方法"><a href="#相关方法" aria-hidden="true" class="header-anchor">#</a> 相关方法</h3> <p>.upload() 开始或者继续上传。<br>
.pause() 暂停上传。<br>
.resume() 继续上传。<br>
.cancel() 取消所有上传文件，文件会被移除掉。<br>
.progress() 返回一个0-1的浮点数，当前上传进度。<br>
.isUploading() 返回一个布尔值标示是否还有文件正在上传中。<br>
.addFile(file) 添加一个原生的文件对象到上传列表中。<br>
.removeFile(file) 从上传列表中移除一个指定的 Uploader.File 实例对象。<br></p> <p>更多查看官方api文档 https://github.com/simple-uploader/Uploader/blob/develop/README_zh-CN.md#</p> <h2 id="组件封装"><a href="#组件封装" aria-hidden="true" class="header-anchor">#</a> 组件封装</h2> <p>安装
npm install vue-simple-uploader --save</p> <p>import Vue from 'vue'<br>
import uploader from 'vue-simple-uploader'<br>
Vue.use(uploader)</p> <p>这里先贴出封装的代码：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>el<span class="token operator">-</span>dialog
    custom<span class="token operator">-</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;myUpLoad&quot;</span>
    title<span class="token operator">=</span><span class="token string">&quot;资源上传&quot;</span>
    <span class="token punctuation">:</span>visible<span class="token punctuation">.</span>sync<span class="token operator">=</span><span class="token string">&quot;dialogVisible&quot;</span>
    <span class="token punctuation">:</span>close<span class="token operator">-</span>on<span class="token operator">-</span>click<span class="token operator">-</span>modal<span class="token operator">=</span><span class="token string">&quot;false&quot;</span>
    width<span class="token operator">=</span><span class="token string">&quot;600px&quot;</span>
    <span class="token punctuation">:</span>before<span class="token operator">-</span>close<span class="token operator">=</span><span class="token string">&quot;handleClose&quot;</span>
    @open<span class="token operator">=</span><span class="token string">&quot;openDialog&quot;</span>
  <span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;list_content&quot;</span> v<span class="token operator">-</span>loading<span class="token operator">=</span><span class="token string">&quot;isDisable&quot;</span> element<span class="token operator">-</span>loading<span class="token operator">-</span>text<span class="token operator">=</span><span class="token string">&quot;资源解析中...&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>uploader
        <span class="token punctuation">:</span>options<span class="token operator">=</span><span class="token string">&quot;options&quot;</span> <span class="token comment">//配置项</span>
        <span class="token punctuation">:</span>autoStart<span class="token operator">=</span><span class="token string">&quot;false&quot;</span>
        ref<span class="token operator">=</span><span class="token string">&quot;uploader&quot;</span>
        <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;uploader-example&quot;</span>
        @file<span class="token operator">-</span>added<span class="token operator">=</span><span class="token string">&quot;onFileAdded&quot;</span> <span class="token comment">//绑定文件上传事件回调，下面会介绍</span>
        @file<span class="token operator">-</span>success<span class="token operator">=</span><span class="token string">&quot;onFileSuccess&quot;</span>
        @file<span class="token operator">-</span>progress<span class="token operator">=</span><span class="token string">&quot;onFileProgress&quot;</span>
        @file<span class="token operator">-</span>error<span class="token operator">=</span><span class="token string">&quot;onFileError&quot;</span>
      <span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>uploader<span class="token operator">-</span>unsupport<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>uploader<span class="token operator">-</span>unsupport<span class="token operator">&gt;</span> <span class="token comment">//浏览器不支持将显示此内容</span>

        <span class="token operator">&lt;</span>uploader<span class="token operator">-</span>list<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>template slot<span class="token operator">-</span>scope<span class="token operator">=</span><span class="token string">&quot;props&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>li v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;file in props.fileList&quot;</span> <span class="token punctuation">:</span>key<span class="token operator">=</span><span class="token string">&quot;file.id&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;liItem&quot;</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>uploader<span class="token operator">-</span>file <span class="token punctuation">:</span>file<span class="token operator">=</span><span class="token string">&quot;file&quot;</span> <span class="token punctuation">:</span>list<span class="token operator">=</span><span class="token string">&quot;true&quot;</span> ref<span class="token operator">=</span><span class="token string">&quot;uploaderFile&quot;</span> <span class="token punctuation">:</span>pauseFlag<span class="token operator">=</span><span class="token string">&quot;pauseFlag&quot;</span><span class="token operator">&gt;</span>
                  <span class="token operator">&lt;</span>template slot<span class="token operator">-</span>scope<span class="token operator">=</span><span class="token string">&quot;props&quot;</span><span class="token operator">&gt;</span><span class="token comment">//使用插槽替换组件默认样式</span>
                    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;filebox&quot;</span><span class="token operator">&gt;</span>
                      <span class="token operator">&lt;</span>p <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;fileNameBox&quot;</span><span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;fileIcon&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
                        <span class="token punctuation">{</span><span class="token punctuation">{</span>file<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token punctuation">}</span>
                      <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
                      <span class="token operator">&lt;</span>p <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;fileProgressBox&quot;</span><span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>el<span class="token operator">-</span>progress
                          <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;progressLength&quot;</span>
                          <span class="token punctuation">:</span>percentage<span class="token operator">=</span><span class="token string">&quot;parseInt((props.progress.toFixed(2))*100-1&lt;0?0:(props.progress.toFixed(2))*100-1)&quot;</span>
                        <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>progress<span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>span
                          <span class="token punctuation">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;{statusBtn:!pauseFlag,resumeBtn:pauseFlag}&quot;</span>
                          <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;progressBtn&quot;</span>
                          @click<span class="token operator">=</span><span class="token string">&quot;pause(file,file.resourceId)&quot;</span>
                        <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;cancelBtn progressBtn&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;remove(file,file.resourceId)&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
                      <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
                      <span class="token operator">&lt;</span>p <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;fileInfoBox&quot;</span><span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;fileInfoItem&quot;</span><span class="token operator">&gt;</span>速度：<span class="token punctuation">{</span><span class="token punctuation">{</span>pauseFlag<span class="token operator">?</span> <span class="token number">0</span><span class="token punctuation">:</span> props<span class="token punctuation">.</span>formatedAverageSpeed<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>span
                          <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;fileInfoItem&quot;</span>
                        <span class="token operator">&gt;</span>已上传：<span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token function">parseFloat</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>formatedSize<span class="token punctuation">)</span><span class="token operator">*</span>props<span class="token punctuation">.</span>progress<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token punctuation">{</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>formatedSize<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
                        <span class="token operator">&lt;</span>span
                          <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;fileInfoItem&quot;</span>
                        <span class="token operator">&gt;</span>剩余时间：<span class="token punctuation">{</span><span class="token punctuation">{</span>pauseFlag<span class="token operator">?</span> <span class="token number">0</span><span class="token punctuation">:</span> props<span class="token punctuation">.</span>formatedTimeRemaining<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
                      <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
                  <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>uploader<span class="token operator">-</span>file<span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>uploader<span class="token operator">-</span>list<span class="token operator">&gt;</span>
        <span class="token comment">//开始上传按钮</span>
        <span class="token operator">&lt;</span>uploader<span class="token operator">-</span>btn ref<span class="token operator">=</span><span class="token string">&quot;uploadBtn&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;global-uploader-btn&quot;</span> <span class="token punctuation">:</span>attrs<span class="token operator">=</span><span class="token string">&quot;attrs&quot;</span><span class="token operator">&gt;</span>添加<span class="token operator">&lt;</span><span class="token operator">/</span>uploader<span class="token operator">-</span>btn<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>uploader<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div slot<span class="token operator">=</span><span class="token string">&quot;footer&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;dialog-footer upLoadFooter&quot;</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>button plain size<span class="token operator">=</span><span class="token string">&quot;medium&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;cancelAddRes&quot;</span> <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;el-button cancel_btn&quot;</span><span class="token operator">&gt;</span>取 消<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>el<span class="token operator">-</span>button
        <span class="token punctuation">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;{none:isUploading}&quot;</span>
        size<span class="token operator">=</span><span class="token string">&quot;medium&quot;</span>
        @click<span class="token operator">=</span><span class="token string">&quot;continueAddRes&quot;</span>
        <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;el-button continueAddRes_btn&quot;</span>
        id<span class="token operator">=</span><span class="token string">&quot;continueAddRes_btn&quot;</span>
      <span class="token operator">&gt;</span>添加<span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>button<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>dialog<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br></div></div><p>options配置及processParams参数</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">var</span> resourceId <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span><span class="token comment">//保存资源id</span>
<span class="token keyword">import</span> SparkMD5 <span class="token keyword">from</span> <span class="token string">&quot;spark-md5&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token comment">//上传组件配置</span>
      options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        target<span class="token punctuation">:</span> <span class="token constant">UPLOAD</span><span class="token punctuation">,</span>
        testChunks<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">//是否开启服务器分片校验</span>
        maxChunkRetries<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token comment">//最大自动失败重试上传次数</span>
        chunkSize<span class="token punctuation">:</span> <span class="token number">3</span> <span class="token operator">*</span> <span class="token number">1024</span> <span class="token operator">*</span> <span class="token number">1024</span><span class="token punctuation">,</span><span class="token comment">//分片大小</span>
        singleFile<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">//单文件上传</span>
        simultaneousUploads<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>

        <span class="token function">processParams</span><span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token comment">//每一次分片传给后台的参数，params是该方法返回的形参，包含分片信息</span>
          <span class="token keyword">return</span> <span class="token punctuation">{</span><span class="token comment">//返回一个对象，会添加到每一个分片的请求参数里面</span>
            name<span class="token punctuation">:</span> params<span class="token punctuation">.</span>filename<span class="token punctuation">,</span>
            code<span class="token punctuation">:</span> params<span class="token punctuation">.</span>identifier<span class="token punctuation">,</span>
            total<span class="token punctuation">:</span> params<span class="token punctuation">.</span>totalChunks<span class="token punctuation">,</span>
            index<span class="token punctuation">:</span> params<span class="token punctuation">.</span>chunkNumber<span class="token punctuation">,</span>
            resourceId<span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>

      attrs<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        accept<span class="token punctuation">:</span> <span class="token string">&quot;.zip&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>组件通信我采用的是bus管理，在挂载是监听，销毁时注销监听事件，当然你如果是父子通信就没有这么复杂</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//组件通信，需要监听开始上传，具体按自己业务决定  </span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$root<span class="token punctuation">.</span>Bus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">&quot;addResourceUpload&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>dialogVisible <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    
      <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">//隐藏原来的上传按钮，模拟点击开始上传  </span>
        document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;#global-uploader-btn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token function">destroyed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$root<span class="token punctuation">.</span>Bus<span class="token punctuation">.</span><span class="token function">$off</span><span class="token punctuation">(</span><span class="token string">&quot;addResourceUpload&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>文件上传各个阶段回调，下面几个回调一般都会用到</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token comment">//文件添加时回调，这里可以做格式校验，md5计算  </span>
    <span class="token function">onFileAdded</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> typeName <span class="token operator">=</span> file<span class="token punctuation">.</span>file<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
      <span class="token keyword">let</span> reg <span class="token operator">=</span> <span class="token regex">/\.zip$/</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>reg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>typeName<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        file<span class="token punctuation">.</span>ignored <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$alert</span><span class="token punctuation">(</span><span class="token string">&quot;上传文件格式不正确，请检查&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;上传错误&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
          confirmButtonText<span class="token punctuation">:</span> <span class="token string">&quot;确定&quot;</span><span class="token punctuation">,</span>
          <span class="token function-variable function">callback</span><span class="token punctuation">:</span> <span class="token parameter">action</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            
          <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token comment">// 计算MD5;</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">computeMD5</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">//所有分片上传完成的回调，需要注意的是，由于异步上传，每一次分片上传不会等上一次响应回来才发送，</span>
    <span class="token comment">//因此该上传成功的回调时，返回的分片响应可能不是最后一片，因此后续会发送合并请求告诉后台进行合并文件</span>
    <span class="token function">onFileSuccess</span><span class="token punctuation">(</span><span class="token parameter">rootFile<span class="token punctuation">,</span> file<span class="token punctuation">,</span> message<span class="token punctuation">,</span> chunk</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
          <span class="token comment">//所有分片上传成功，发送合并分片请求，具体参数与后台确定，后台合并文件</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">//文件上传的过程中会频繁调用该函数</span>
    <span class="token function">onFileProgress</span><span class="token punctuation">(</span><span class="token parameter">rootFile<span class="token punctuation">,</span> file<span class="token punctuation">,</span> chunk</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">//文件上传出错的回调</span>
    <span class="token function">onFileError</span><span class="token punctuation">(</span><span class="token parameter">rootFile<span class="token punctuation">,</span> file<span class="token punctuation">,</span> msg<span class="token punctuation">,</span> chunk</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p>计算Md5,生成唯一标识uniqueIdentifier</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>    <span class="token function">computeMD5</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">let</span> that <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> fileReader <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FileReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">let</span> md5 <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
      file<span class="token punctuation">.</span><span class="token function">pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//先暂停，后续生成uniqueIdentifier</span>
      fileReader<span class="token punctuation">.</span><span class="token function">readAsArrayBuffer</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>

      fileReader<span class="token punctuation">.</span><span class="token function-variable function">onload</span> <span class="token operator">=</span> <span class="token parameter">e</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>file<span class="token punctuation">.</span>size <span class="token operator">!=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">.</span>result<span class="token punctuation">.</span>byteLength<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;文件读取失败&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        md5 <span class="token operator">=</span> SparkMD5<span class="token punctuation">.</span><span class="token function">hash</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//业务需求以文件名作为加密</span>
        file<span class="token punctuation">.</span>uniqueIdentifier <span class="token operator">=</span> md5<span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>md5 <span class="token operator">!=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          file<span class="token punctuation">.</span><span class="token function">resume</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//继续上传文件</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>

      fileReader<span class="token punctuation">.</span><span class="token function-variable function">onerror</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;文件读取失败&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div><p>uploader-list组件可以上传多个文件，多个file对象放在该组件里面上传，之前我是想做多个文件上传，发现浏览器较卡并且后台也不好处理，
于是就做单个大文件上传，单文件的话你可以不用uploader-list，直接使用uploader-file，我这里就不做修改了，uploader-file组件就是存放file对象的相关信息<br></p> <p>vue-simple-uploader相关组件情况：<br> <img src="data:image/png;base64,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" alt="img"></p> <p>vue-simple-uploader源码 的uploader-file组件部分代码：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>template<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;uploader-file&quot;</span> <span class="token punctuation">:</span>status<span class="token operator">=</span><span class="token string">&quot;status&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>slot
      <span class="token punctuation">:</span>file<span class="token operator">=</span><span class="token string">&quot;file&quot;</span>
      <span class="token punctuation">:</span>list<span class="token operator">=</span><span class="token string">&quot;list&quot;</span>
      <span class="token punctuation">:</span>status<span class="token operator">=</span><span class="token string">&quot;status&quot;</span>
      <span class="token punctuation">:</span>paused<span class="token operator">=</span><span class="token string">&quot;paused&quot;</span>
      <span class="token punctuation">:</span>error<span class="token operator">=</span><span class="token string">&quot;error&quot;</span>
      <span class="token punctuation">:</span>response<span class="token operator">=</span><span class="token string">&quot;response&quot;</span>
      <span class="token punctuation">:</span>average<span class="token operator">-</span>speed<span class="token operator">=</span><span class="token string">&quot;averageSpeed&quot;</span>
      <span class="token punctuation">:</span>formated<span class="token operator">-</span>average<span class="token operator">-</span>speed<span class="token operator">=</span><span class="token string">&quot;formatedAverageSpeed&quot;</span>
      <span class="token punctuation">:</span>current<span class="token operator">-</span>speed<span class="token operator">=</span><span class="token string">&quot;currentSpeed&quot;</span>
      <span class="token punctuation">:</span>is<span class="token operator">-</span>complete<span class="token operator">=</span><span class="token string">&quot;isComplete&quot;</span>
      <span class="token punctuation">:</span>is<span class="token operator">-</span>uploading<span class="token operator">=</span><span class="token string">&quot;isUploading&quot;</span>
      <span class="token punctuation">:</span>size<span class="token operator">=</span><span class="token string">&quot;size&quot;</span>
      <span class="token punctuation">:</span>formated<span class="token operator">-</span>size<span class="token operator">=</span><span class="token string">&quot;formatedSize&quot;</span>
      <span class="token punctuation">:</span>uploaded<span class="token operator">-</span>size<span class="token operator">=</span><span class="token string">&quot;uploadedSize&quot;</span>
      <span class="token punctuation">:</span>progress<span class="token operator">=</span><span class="token string">&quot;progress&quot;</span>
      <span class="token punctuation">:</span>progress<span class="token operator">-</span>style<span class="token operator">=</span><span class="token string">&quot;progressStyle&quot;</span>
      <span class="token punctuation">:</span>progressing<span class="token operator">-</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;progressingClass&quot;</span>
      <span class="token punctuation">:</span>time<span class="token operator">-</span>remaining<span class="token operator">=</span><span class="token string">&quot;timeRemaining&quot;</span>
      <span class="token punctuation">:</span>formated<span class="token operator">-</span>time<span class="token operator">-</span>remaining<span class="token operator">=</span><span class="token string">&quot;formatedTimeRemaining&quot;</span>
      <span class="token punctuation">:</span>type<span class="token operator">=</span><span class="token string">&quot;type&quot;</span>
      <span class="token punctuation">:</span>extension<span class="token operator">=</span><span class="token string">&quot;extension&quot;</span>
      <span class="token punctuation">:</span>file<span class="token operator">-</span>category<span class="token operator">=</span><span class="token string">&quot;fileCategory&quot;</span>
      <span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;uploader-file-progress&quot;</span> <span class="token punctuation">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;progressingClass&quot;</span> <span class="token punctuation">:</span>style<span class="token operator">=</span><span class="token string">&quot;progressStyle&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;uploader-file-info&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;uploader-file-name&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>i <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;uploader-file-icon&quot;</span> <span class="token punctuation">:</span>icon<span class="token operator">=</span><span class="token string">&quot;fileCategory&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>i<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>file<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;uploader-file-size&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>formatedSize<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;uploader-file-meta&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;uploader-file-status&quot;</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>span v<span class="token operator">-</span>show<span class="token operator">=</span><span class="token string">&quot;status !== 'uploading'&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>statusText<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>span v<span class="token operator">-</span>show<span class="token operator">=</span><span class="token string">&quot;status === 'uploading'&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>progressStyle<span class="token punctuation">.</span>progress<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>em<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>formatedAverageSpeed<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>em<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>i<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>formatedTimeRemaining<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>i<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;uploader-file-actions&quot;</span><span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;uploader-file-pause&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;pause&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;uploader-file-resume&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;resume&quot;</span><span class="token operator">&gt;</span>️<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;uploader-file-retry&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;retry&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;uploader-file-remove&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;remove&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token keyword">import</span> Uploader <span class="token keyword">from</span> <span class="token string">'simple-uploader.js'</span>
  <span class="token keyword">import</span> events <span class="token keyword">from</span> <span class="token string">'../common/file-events'</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> secondsToStr <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'../common/utils'</span>

  <span class="token keyword">const</span> <span class="token constant">COMPONENT_NAME</span> <span class="token operator">=</span> <span class="token string">'uploader-file'</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token function">data</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token punctuation">{</span>
        response<span class="token punctuation">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
        paused<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        error<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        averageSpeed<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        currentSpeed<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        isComplete<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        isUploading<span class="token punctuation">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
        size<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        formatedSize<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
        uploadedSize<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        progress<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        timeRemaining<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
        type<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
        extension<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
        progressingClass<span class="token punctuation">:</span> <span class="token string">''</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> 
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br></div></div><h2 id="插槽的使用、修改默认样式"><a href="#插槽的使用、修改默认样式" aria-hidden="true" class="header-anchor">#</a> 插槽的使用、修改默认样式</h2> <p>修改默认样式之前推荐看一下vue-simple-uploader源码，方便后续修改操作，在这里我们需要使用插槽，替换掉uploader-file默认元素，这里使用slot，代码如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token operator">&lt;</span>uploader<span class="token operator">-</span>file <span class="token punctuation">:</span>file<span class="token operator">=</span><span class="token string">&quot;file&quot;</span> <span class="token punctuation">:</span>list<span class="token operator">=</span><span class="token string">&quot;true&quot;</span> ref<span class="token operator">=</span><span class="token string">&quot;uploaderFile&quot;</span> <span class="token punctuation">:</span>pauseFlag<span class="token operator">=</span><span class="token string">&quot;pauseFlag&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>template slot<span class="token operator">-</span>scope<span class="token operator">=</span><span class="token string">&quot;props&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;filebox&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>p <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;fileNameBox&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;fileIcon&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
            <span class="token punctuation">{</span><span class="token punctuation">{</span>file<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token punctuation">}</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>p <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;fileProgressBox&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>el<span class="token operator">-</span>progress
                <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;progressLength&quot;</span>
                <span class="token punctuation">:</span>percentage<span class="token operator">=</span><span class="token string">&quot;parseInt((props.progress.toFixed(2))*100-1&lt;0?0:(props.progress.toFixed(2))*100-1)&quot;</span>
            <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>el<span class="token operator">-</span>progress<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>span
                <span class="token punctuation">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;{statusBtn:!pauseFlag,resumeBtn:pauseFlag}&quot;</span>
                <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;progressBtn&quot;</span>
                @click<span class="token operator">=</span><span class="token string">&quot;pause(file,file.resourceId)&quot;</span>
            <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;cancelBtn progressBtn&quot;</span> @click<span class="token operator">=</span><span class="token string">&quot;remove(file,file.resourceId)&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>p <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;fileInfoBox&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>span <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;fileInfoItem&quot;</span><span class="token operator">&gt;</span>速度：<span class="token punctuation">{</span><span class="token punctuation">{</span>pauseFlag<span class="token operator">?</span> <span class="token number">0</span><span class="token punctuation">:</span> props<span class="token punctuation">.</span>formatedAverageSpeed<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>span
                <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;fileInfoItem&quot;</span>
            <span class="token operator">&gt;</span>已上传：<span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token function">parseFloat</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>formatedSize<span class="token punctuation">)</span><span class="token operator">*</span>props<span class="token punctuation">.</span>progress<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token punctuation">{</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>formatedSize<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>span
                <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;fileInfoItem&quot;</span>
            <span class="token operator">&gt;</span>剩余时间：<span class="token punctuation">{</span><span class="token punctuation">{</span>pauseFlag<span class="token operator">?</span> <span class="token number">0</span><span class="token punctuation">:</span> props<span class="token punctuation">.</span>formatedTimeRemaining<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>uploader<span class="token operator">-</span>file<span class="token operator">&gt;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br></div></div><p><code>&lt;template slot-scope=&quot;props&quot;&gt;</code> props可以获取到组件数据,比如props.formatedAverageSpeed获取格式化后的上传平均速度，
props.formatedTimeRemaining获取剩余时间等<br>
具体样式代码我就不贴出来了，可以自行修改。</p></div> <!----> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">7/17/2019, 7:47:50 PM</span></div></footer> <!----> </main> <div class="valine-wrapper" data-v-0162251c><div id="valine" data-v-0162251c></div></div></div> <div class="back-to-ceiling" style="right:1rem;bottom:3rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;background-color:rgba(231, 234, 241,.5);display:none;" data-v-d0bfeaa4 data-v-d0bfeaa4><i class="iconfont reco-up" data-v-d0bfeaa4></i></div></div></div></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.25bd69c4.js" defer></script><script src="/assets/js/4.6e0585f6.js" defer></script><script src="/assets/js/1.de0b2451.js" defer></script><script src="/assets/js/8.501095af.js" defer></script>
  </body>
</html>
